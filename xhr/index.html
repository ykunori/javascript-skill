<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
</head>
<body>



<button id="xhr-btn1" value="click">button!!!</button>

<textarea id="xhr-result1"></textarea>

<script>
var btn1 = document.getElementById('xhr-btn1');
btn1.onclick = function(){

  var xhr = new XMLHttpRequest();
  xhr.open('GET', location.href, true);
  xhr.onreadystatechange = function(){
    // 本番用
    if (xhr.readyState === 4 && xhr.status === 200){
      var result1 = document.getElementById('xhr-result1');
      result1.value = xhr.responseText;
    }
    // ローカルファイル用
    if (xhr.readyState === 4 && xhr.status === 0){
      var result1 = document.getElementById('xhr-result1');
      result1.value = xhr.responseText;
    }
  };
  xhr.send(null);
};
</script>
  
</body>
</html>
